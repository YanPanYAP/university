# Решение проблемы "Сервер не найден" при подключении по позывному

## Что было исправлено

1. **Добавлены множественные попытки поиска** - клиент теперь пробует несколько broadcast адресов:
   - 255.255.255.255 (универсальный broadcast)
   - 127.0.0.1 (localhost для тестирования)
   - 192.168.1.255, 192.168.0.255, 172.20.10.255, 10.0.0.255 (распространенные сети)

2. **Уменьшен таймаут** - каждая попытка занимает 2 секунды вместо 5

3. **Улучшена диагностика** - выводится информация о каждой попытке

## Если сервер все еще не найден

### Шаг 1: Проверьте, что сервер запущен

На сервере должно быть видно:
```
ResponseServer работает
```

Если этого сообщения нет, сервер не слушает UDP-запросы.

### Шаг 2: Проверьте позывной

По умолчанию используется `HELLO` (заглавными буквами). Убедитесь, что:
- Позывной вводится точно так же, как на сервере
- Регистр имеет значение (HELLO ≠ hello)

### Шаг 3: Проверьте порт

По умолчанию используется порт **2000** для UDP. Убедитесь, что:
- Сервер запущен с правильным UDP-портом
- Клиент и сервер используют один и тот же порт

### Шаг 4: Проверьте Firewall

Windows Firewall может блокировать UDP-трафик:

1. Откройте **Панель управления** → **Брандмауэр Защитника Windows**
2. Нажмите **Дополнительные параметры**
3. Создайте правило для входящих подключений:
   - Тип: Порт
   - Протокол: UDP
   - Порт: 2000
   - Действие: Разрешить подключение

Или временно отключите firewall для тестирования.

### Шаг 5: Проверьте сеть

Убедитесь, что клиент и сервер в одной сети:

1. **Узнайте IP-адреса:**
   ```cmd
   ipconfig
   ```

2. **Проверьте связность:**
   ```cmd
   ping <IP_адрес_сервера>
   ```

3. **Если клиент и сервер в разных сетях:**
   - Broadcast работает только в пределах одной подсети
   - Используйте подключение по IP-адресу (вариант 1)

### Шаг 6: Используйте подключение по IP-адресу

Если подключение по позывному не работает, используйте более надежный способ:

```
1 - Подключение по имени сервера
2 - Подключение по позывному
1
Введите имя сервера: <IP_адрес_сервера>
Порт сервера: 2000
```

Этот способ работает даже через интернет (при правильной настройке маршрутизации).

## Диагностика в коде

Клиент теперь выводит информацию о каждой попытке:

```
Поиск сервера с позывным "HELLO"...
Попытка 1: Broadcast 255.255.255.255...
Попытка 2: Localhost 127.0.0.1...
Попытка 3: Broadcast 192.168.1.255...
...
```

Если все попытки завершаются без результата, проверьте указанные выше пункты.

## Альтернативное решение

Если ничего не помогает, можно временно изменить код для использования конкретного broadcast адреса вашей сети:

В файле `Client/Client.cpp` найдите строки с попытками и замените первую попытку на ваш broadcast адрес:

```cpp
// Вместо 255.255.255.255 используйте ваш broadcast адрес
// Например, для сети 192.168.1.0/24:
all.sin_addr.s_addr = inet_addr("192.168.1.255");
```

Чтобы узнать ваш broadcast адрес:
1. Выполните `ipconfig`
2. Найдите ваш IP-адрес и маску подсети
3. Вычислите broadcast: (IP & маска) | (~маска)
4. Или используйте последний адрес в диапазоне (например, для 192.168.1.0/24 это 192.168.1.255)


